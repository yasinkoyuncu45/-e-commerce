@model IEnumerable<Product>

@{
	ViewData["Title"] = "ProductIndex";
	Layout = "~/Views/Shared/AdminLayout.cshtml";
	Context con = new Context();
	string CategoryName = "";
	string BrandName = "";
	string StatusName = "";

}
<div class="row">
	<div class="col-md-2 col-xs-12 col-sm-12 col-lg-2"></div>

	<div class="col-md-8 col-xs-12 col-sm-12 col-lg-8">
		<p>
			<a asp-action="ProductCreate" asp-controller="Admin" class="btn btn-success">YENİ ÜRÜN</a>


		</p>

		<!-- BEGIN SAMPLE TABLE PORTLET-->
		<div class="portlet box red">
			<div class="portlet-title">
				<div class="caption">
					<i class="fa fa-cogs"></i>ÜRÜNLER LİSTESİ
				</div>
				<div class="tools">
					<a href="javascript:;" class="collapse">
					</a>
					<a href="#portlet-config" data-toggle="modal" class="config">
					</a>
					<a href="javascript:;" class="reload">
					</a>
					<a href="javascript:;" class="remove">
					</a>
				</div>
			</div>
			<div class="portlet-body">
				<div class="table-scrollable">
					<table class="table  table-dark table-hover">
						<thead>
							<tr style="background-color:grey;color:white">
								<th>
									@Html.DisplayNameFor(model => model.ProductID)
								</th>
								<th>
									@Html.DisplayNameFor(model => model.ProductName)
								</th>
								<th>
									@Html.DisplayNameFor(model => model.UnitPrice)
								</th>
								<th>
									@Html.DisplayNameFor(model => model.CategoryID)
								</th>
								<th>
									@Html.DisplayNameFor(model => model.SupplierID)
								</th>
								<th>
									@Html.DisplayNameFor(model => model.StatusID)
								</th>
								<th>
									@Html.DisplayNameFor(model => model.Stock)
								</th>
								<th>
									@Html.DisplayNameFor(model => model.HighLighted)
								</th>

								<th>
									@Html.DisplayNameFor(model => model.Active)
								</th>

								<th></th>
								<th></th>
								<th></th>


							</tr>
						</thead>
						<tbody>

							@foreach (var item in Model)
							{
								<tr>
									<td>
										@Html.DisplayFor(model => item.ProductID)
									</td>
									<td>
										@Html.DisplayFor(model => item.ProductName)
									</td>
									<td>
										@Html.DisplayFor(model => item.UnitPrice)
									</td>
									<td>
										@{
											CategoryName = con.Category.FirstOrDefault(c => c.CategoryID ==
											item.CategoryID).CategoryName;
											@CategoryName
										}
									</td>
									<td>
										@{
											BrandName = con.Supplier.FirstOrDefault(s => s.SupplierID ==
											item.SupplierID).BrandName;
											@BrandName
										}
									</td>
									<td>
										@{
											StatusName = con.Status?.FirstOrDefault(s => s.StatusID ==
											item.StatusID).StatusName;
											if (item.StatusID == 1)
											{
												<span style="background-color:red; color:white">@StatusName</span>
											}
											else if (item.StatusID == 2)
											{
												<span style="background-color:green; color:white">@StatusName</span>
											}
											else if (item.StatusID == 3)
											{
												<span style="background-color:blue; color:white">@StatusName</span>
											}
											else if (item.StatusID == 4)
											{
												<span style="background-color:yellow; color:white">@StatusName</span>
											}
											else if (item.StatusID == 5)
											{
												<span style="background-color:brown; color:white">@StatusName</span>
											}
											else if (item.StatusID == 6)
											{
												<span style="background-color:pink; color:white">@StatusName</span>
											}
											else
											{
												<span style="background-color:orange; color:white">@StatusName</span>
											}

										}
									</td>

									<td>
										@Html.DisplayFor(model => item.Stock)
									</td>

									@if (item.Active)
									{
										<td style="background-color:green;color:white;">
											<label>AKTİF</label>
										</td>
									}
									else
									{
										<td style="background-color:red;color:white;">
											<label>PASİF</label>
										</td>
									}

									<td>
										<a asp-action="ProductEdit" asp-route-id="@item.ProductID"
										   class="btn btn-primary">DÜZELT</a>
										<a asp-action="ProductDetails" asp-route-id="@item.ProductID"
										   class="btn btn-info">DETAY</a>
										<a asp-action="ProductDelete" asp-route-id="@item.ProductID"
										   class="btn btn-danger">SİL</a>
									</td>

								</tr>



							}


						</tbody>
					</table>
				</div>
			</div>
		</div>
		<!-- END SAMPLE TABLE PORTLET-->
	</div>
